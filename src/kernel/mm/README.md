# 关于进程wait exit的通知机制
1. 初始时，只有一个用户进程origin，之后所有的用户进程形成一棵树，而origin即为根节点。
2. origin接收用户输入，然后fork出一个子进程，由这个子进程去exec这条cmd。针对这个子进程，origin会调用waitpid_stat等待子进程执行结束，
如果cmd中有参数 &，表示子进程以后台方式进行，子进程的输出将写入tmp_out文件，而origin将不等待这个子进程。实际上，waitpid_stat的调用者如果
是init，会特别地去扫描清理全部已僵死的子进程。
3. 因为用户进程的调度不是FIFO，而是栈式结构，也就是fork后，子进程先入栈，mm回复父进程，父进程也入栈，所以是先执行父进程再执行子进程。
4. 等待有两种，wait（即waitpid(-1)）与waitpid（waitpid_stat），前者父进程要等待所有的子进程结束，后者只需等待特定的子进程结束。
5. 一个进程exit时，经初步清理后，进入僵死状态。如果发现其父在等待，那么在完整清理子进程后，mm按4考虑回复父进程。如果该进程还有子进程未处理，
其子进程状态包括存活或僵死，那么mm为其子进程设置新的父亲init。
6. 一个进程等待时，如果其子进程还存活，那么mm不回复，进程就此阻塞。如果其子进程已经僵死，那么在完整清理子进程后，mm按4考虑回复父进程。